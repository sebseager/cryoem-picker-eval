<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>EMPIAR - cryo-docs</title> <link rel="shortcut icon" href="/docs/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/docs/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>EMPIAR | cryo-docs</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="EMPIAR" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="/docs/empiar.html" /> <meta property="og:url" content="/docs/empiar.html" /> <meta property="og:site_name" content="cryo-docs" /> <script type="application/ld+json"> {"url":"/docs/empiar.html","headline":"EMPIAR","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/docs/" class="site-title lh-tight"> cryo-docs </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/pickers" class="nav-list-link">Particle Pickers</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/aspire-apple.html" class="nav-list-link">ASPIRE APPLEpicker</a></li><li class="nav-list-item "><a href="/docs/autocryopicker.html" class="nav-list-link">AutoCryoPicker</a></li><li class="nav-list-item "><a href="/docs/deeppicker.html" class="nav-list-link">DeepPicker</a></li><li class="nav-list-item "><a href="/docs/relion-log.html" class="nav-list-link">RELION LoG (Laplacian-of-Gaussian) Picker</a></li><li class="nav-list-item "><a href="/docs/sphire-cryolo.html" class="nav-list-link">SPHIRE-crYOLO</a></li><li class="nav-list-item "><a href="/docs/topaz.html" class="nav-list-link">Topaz</a></li></ul></li><li class="nav-list-item active"><a href="/docs/empiar.html" class="nav-list-link active">EMPIAR</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search cryo-docs" aria-label="Search cryo-docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/sebseager/cryo-docs" class="site-button" > cryo-docs on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="empiar"> <a href="#empiar" class="anchor-heading" aria-labelledby="empiar"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> EMPIAR </h1> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p><a href="https://www.ebi.ac.uk/pdbe/emdb/empiar/">EMPIAR</a> (the Electron Microscopy Public Image Archive) is an online database provided by EMBL-EBI. It contains several hundred (as of October 1, 2020) electron microscopy data sets, which can be downloaded for use in microscopy-based research.</p> <p>EMPIAR entries are organized by accession code, which are of the format <code class="language-plaintext highlighter-rouge">EMPIAR-#####</code>. For now, the <code class="language-plaintext highlighter-rouge">#####</code> portion starts with a <code class="language-plaintext highlighter-rouge">1</code> followed by zeros padding the data set number, e.g., <code class="language-plaintext highlighter-rouge">EMPIAR-10017</code>. Each EMPIAR entry also has a DOI number of the format <code class="language-plaintext highlighter-rouge">https://dx.doi.org/10.6019/EMPIAR-#####</code>, which should be used when citing data.</p> <p>This document describes how to transfer these data to a local machine or computing cluster for analysis. Since these data sets can be between hundreds of gigabytes and several terabytes in size, it is recommended to use a machine or cluster node with a dedicated high-bandwidth network connection for transfers.</p> <h2 id="method-1-direct-ftp-download"> <a href="#method-1-direct-ftp-download" class="anchor-heading" aria-labelledby="method-1-direct-ftp-download"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Method 1: Direct FTP Download </h2> <p>This method performs a direct download operation using <code class="language-plaintext highlighter-rouge">wget</code>. It can therefore fail if the recipient machine experiences power loss or network timeout, or if the <code class="language-plaintext highlighter-rouge">wget</code> process or its containing shell session is interrupted. To protect transfers against these last two possibilities, we suggest using <code class="language-plaintext highlighter-rouge">screen</code> (manual page <a href="https://linux.die.net/man/1/screen">here</a>) or <code class="language-plaintext highlighter-rouge">tmux</code> (manual page <a href="https://linux.die.net/man/1/tmux">here</a>) if appropriate for your computing setup. See the linked manual pages or the <a href="#protecting-transfers-with-tmux">Protecting Transfers with <code class="language-plaintext highlighter-rouge">tmux</code></a> section for more information.</p> <p>To download a complete EMPIAR entry in the current working directory, run the following, replacing <code class="language-plaintext highlighter-rouge">#####</code> with the appropriate EMPIAR accession code. Note that the final <code class="language-plaintext highlighter-rouge">/</code> is important when using <code class="language-plaintext highlighter-rouge">wget</code>—otherwise, it will try to interpret <code class="language-plaintext highlighter-rouge">#####</code> as a file instead of a directory.</p> <p>```shell script wget ftp://ftp.ebi.ac.uk/empiar/world_availability/#####/</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Note: the port is `22`, user is `anonymous` (or `Guest` on macOS), and password is left blank (although `wget` should identify these by default).

## Method 2: Globus

For organizations that have computing clusters with a Globus endpoint, it is also possible to use the Globus service to transfer EMPIAR data much more rapidly, and without risk of interruption. These transfers can be managed from the Globus web interface, as follows, and do not rely on a shell session.

1. Towards the bottom of an EMPIAR entry page (e.g., https://www.ebi.ac.uk/pdbe/emdb/empiar/entry/10017/) click the `Browse Globus` link
2. Enter the name of your institution and follow login prompts
3. The File Manager should now be displayed; the Collection bar should say `Shared EMBL-EBI public endpoint` and the Path bar should say something like `/gridftp/empiar/world_availability/#####`
4. If the File Manager is not already in double-pane view, click `Transfer or Sync to...` in the menu at right (has an icon of two arrows pointing in opposite directions)
5. Click the search bar above the right-hand pane and enter the name of your organization's Globus endpoint
6. The right-hand pane should now populate with user-specific contents of the endpoint you specified; navigate to a suitable download location
7. Select files and/or directories to transfer in the left hand pane, then click `Start &gt;` to download them to the destination specified in the right-hand Path bar

Transfer progress is displayed in the Activity tab in the menu at left. The transfer will be scheduled by Globus, so the webpage can be closed after clicking `Start &gt;`. 

## Protecting Transfers with `tmux`

The `tmux` utility can create persistent shell sessions, and is useful in protecting long file transfers to a remote machine against accidental disconnection of your SSH session.

To create a new `tmux` session, use

```shell script
tmux new -s my-session-name
</code></pre></div></div> <p>To list active <code class="language-plaintext highlighter-rouge">tmux</code> sessions, use</p> <p>```shell script tmux ls</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
To attach to an existing `tmux` session, use

```shell script
tmux attach -t my-session-name-or-id
</code></pre></div></div> <p>To detach from the current active <code class="language-plaintext highlighter-rouge">tmux</code> session (while keeping its processes running on the remote machine), use the following keyboard shortcut. Note that the <code class="language-plaintext highlighter-rouge">tmux</code> “prefix” combination (here, <code class="language-plaintext highlighter-rouge">Ctrl-b</code>) may be different on your system.</p> <p>```shell script Ctrl-b + d</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
To kill a `tmux` session and all its processes (so that it does not continue consuming system resources after you're finished with it), use

```shell script
tmux kill-session -t my-session-name-or-id
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
